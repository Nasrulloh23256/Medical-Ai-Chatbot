import{q as p,r as t,j as e,$ as g,a as f,m as b}from"./app-DCzU8fPO.js";import{A as k}from"./app-layout-YbuBPr-B.js";import{C as j}from"./check-BtmcC-iA.js";import{X as N}from"./x-BDYLBZdM.js";/* empty css            */import"./app-logo-icon-DHm6msfP.js";import"./index-B-QgRYCH.js";import"./index-AVa3EdGz.js";const P=[{name:"Paket Dasar",price:0,period:"selamanya",originalPrice:0,features:[{name:"Konsultasi dokter umum",included:!0},{name:"Riwayat chat tak terbatas",included:!0},{name:"Akses artikel kesehatan",included:!0},{name:"Konsultasi spesialis",included:!1},{name:"Prioritas antrian",included:!1}]},{name:"Paket Profesional",price:599e3,period:"bulan",originalPrice:999e3,popular:!0,features:[{name:"Konsultasi dokter umum",included:!0},{name:"Riwayat chat tak terbatas",included:!0},{name:"Akses artikel kesehatan",included:!0},{name:"Konsultasi spesialis",included:!0},{name:"Prioritas antrian",included:!0}]},{name:"Paket Bisnis",price:499e3,period:"bulan",originalPrice:499e3,features:[{name:"Konsultasi dokter umum",included:!0},{name:"Riwayat chat tak terbatas",included:!0},{name:"Akses artikel kesehatan",included:!0},{name:"Konsultasi spesialis",included:!0},{name:"Prioritas antrian",included:!1}]}];function L(){const r=p().props.auth.user.plan==="pro"?"Paket Profesional":"Paket Dasar",[n,d]=t.useState(""),[u,i]=t.useState(""),[o,s]=t.useState(""),[l,c]=t.useState(!1),x=async()=>{c(!0),i(""),s("");try{const a=await f.post("/api/vouchers/redeem",{code:n});i("success"),s(a.data.message||"Selamat! Paket Anda berhasil di-upgrade."),d(""),console.log("Voucher redeemed successfully:",a.data),b.reload({only:["auth"]})}catch(a){i("error"),a.response&&a.response.data&&a.response.data.message?s(a.response.data.message):(s("Terjadi kesalahan. Silakan coba lagi."),console.error("Error redeeming voucher:",a))}finally{c(!1)}};return e.jsxs(k,{children:[e.jsx(g,{title:"Paket Langganan"}),e.jsxs("div",{className:"flex min-h-full flex-col items-center px-4 py-12",children:[e.jsxs("div",{className:"max-w-2xl w-full mx-auto mb-8 bg-card rounded-xl p-6 shadow",children:[e.jsx("h2",{className:"font-bold text-lg mb-2",children:"Punya kode voucher?"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{className:"flex-1 border rounded px-3 py-2 bg-background",placeholder:"Masukkan kode voucher",value:n,onChange:a=>d(a.target.value),disabled:l}),e.jsx("button",{className:"rounded bg-primary text-primary-foreground px-4 py-2 font-semibold disabled:bg-muted disabled:cursor-not-allowed",onClick:x,disabled:l||!n.trim(),children:l?"Cek...":"Redeem"})]}),o&&e.jsx("div",{className:`mt-2 text-sm ${u==="success"?"text-green-600":"text-red-600"}`,children:o})]}),e.jsx("div",{className:"mb-4 text-center",children:e.jsxs("span",{className:"inline-block bg-green-50 text-green-800 rounded px-3 py-1 font-medium",children:["Plan aktif: ",r]})}),e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-primary mb-2",children:"PAKET LAYANAN"}),e.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Pilihan Paket"})]}),e.jsx("div",{className:"grid gap-8 md:grid-cols-3 max-w-7xl w-full",children:P.map(a=>e.jsxs("div",{className:`relative rounded-2xl bg-card p-8 shadow-sm ring-1 ring-border flex flex-col ${a.popular?"ring-2 ring-primary":""}`,children:[a.popular&&e.jsx("div",{className:"absolute -top-4 left-0 right-0 mx-auto w-32 rounded-full bg-gradient-to-r from-violet-400 to-violet-600 px-3 py-1 text-sm font-medium text-white",children:"Paling Populer"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-foreground",children:a.name}),e.jsx("div",{className:"mt-4 flex items-baseline",children:a.price===0?e.jsx("span",{className:"text-4xl font-bold tracking-tight text-foreground",children:"Gratis"}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-4xl font-bold tracking-tight text-foreground",children:["Rp",a.price.toLocaleString()]}),e.jsxs("span",{className:"text-lg font-semibold text-muted-foreground",children:["/",a.period]}),e.jsxs("span",{className:"ml-2 text-sm text-muted-foreground line-through",children:["Rp",a.originalPrice.toLocaleString()]})]})})]}),e.jsx("div",{className:"mb-6 h-[42px]",children:a.price>0&&e.jsx("button",{className:`w-full rounded-lg border border-border bg-card py-2.5 text-sm font-semibold text-foreground shadow-sm hover:bg-accent transition-colors
                                            disabled:opacity-70`,disabled:a.name===r,children:a.name===r?"Paket Aktif":"Hubungi Admin untuk Upgrade"})}),e.jsxs("ul",{className:"space-y-4 flex-1",children:[" ",a.features.map((m,h)=>e.jsxs("li",{className:"flex items-center gap-3",children:[m.included?e.jsx(j,{className:"h-5 w-5 text-green-500 dark:text-green-400"}):e.jsx(N,{className:"h-5 w-5 text-red-500 dark:text-red-400"}),e.jsx("span",{className:"text-muted-foreground",children:m.name})]},h))]})]},a.name))})]})]})}export{L as default};
